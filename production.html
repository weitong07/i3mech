<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>iTrimech | Engineering Solutions for the Future</title>
  
  <!-- Favicon (Modern Approach) -->
  <link rel="apple-touch-icon" href="/img/main/cover.png">
  
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

  <!-- CSS -->
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <header class="site-header">
    <div class="container header-container">
      <div class="header-content">
        <a href="index.html" class="logo-link">
          <div class="logo-wrapper">
            <img src="img/main/cover.png" alt="iTrimech Engineering Logo" class="logo" />
            <div class="logo-taglines">
              <div class="tagline-top">INNOVATIVE</div>
              <div class="tagline-middle">INVOLVING</div>
              <div class="tagline-bottom">INTEGRITY</div>
            </div>
          </div>
        </a>

        <nav class="main-navigation" aria-label="Primary Navigation">
          <ul class="text-navigation">
            <li><a href="index.html">Home</a></li>
            <li><a href="about.html">About</a></li>
            <li><a href="production.html">Production</a></li>
            <li><a href="product.html">Products</a></li>
            <li><a href="contact.html">Contact</a></li>
          </ul>
        </nav>
      </div>

      <!-- Accent lines below the header content -->
      <div class="accent-lines">
        <div class="green-line"></div>
        <div class="blue-line"></div>
      </div>
    </div>
  </header>

  <section class="production-hero">
    <div class="container">
      <h1 class="animate-on-scroll fade-in-up">Precision Manufacturing Excellence</h1>
      <p class="animate-on-scroll fade-in-up delay-1">State-of-the-art production facilities</p>
    </div>
  </section>

  <section class="production-showcase">
    <div class="container">
      <h2 class="section-title animate-on-scroll fade-in-up">Our Production Floor</h2>

      <div class="machine-grid">
        <!-- Machine 1 -->
        <div class="machine-card animate-on-scroll fade-in-left">
          <div class="machine-image">
            <img src="img/main/production1.jpeg" alt="SMT Assembly Line" loading="lazy">
          </div>
          <div class="machine-details">
            <h3>Multiple SMT Assembly Line</h3>
            <p>High-speed surface mount technology for precision PCB assembly with 3D solder paste inspection (SPI), automated optical inspection and quality control systems.</p>
            <ul class="machine-specs">
            </ul>
          </div>
        </div>

        <!-- Machine 2 -->
        <div class="machine-card animate-on-scroll fade-in-up delay-1">
          <div class="machine-image">
            <img src="img/main/production2.png" alt="Wave Soldering System" loading="lazy">
          </div>
          <div class="machine-details">
            <h3>Wave Soldering System</h3>
            <p>Advanced wave soldering for through-hole components with precise temperature control and flux management.</p>
            <ul class="machine-specs">
            </ul>
          </div>
        </div>

        <!-- Machine 3 -->
        <div class="machine-card animate-on-scroll fade-in-right">
          <div class="machine-image">
            <img src="img/main/picture4.jpg" alt="Plastic Injection Machines" loading="lazy">
          </div>
          <div class="machine-details">
            <h3>Plastic Injection Facilities</h3>
            <p>Air-conditioned environment with dust control for precision molding and consistent part quality.</p>
            <ul class="machine-specs">
              <li>2 x 100T Fanuc machines</li>
              <li>1 x 150T Fanuc machine</li>
              <li>1 x 300T Fanuc machine</li>
              <li>3 units Hopper dryer</li>
              <li>2 unit Dehumidifier</li>
            </ul>
          </div>
        </div>

        <!-- Carousel Section - Full Width -->
        <div class="machine-card animate-on-scroll fade-in-up delay-1">
          <div class="carousel-container">
            <div class="carousel-slides">
              <div class="carousel-slide active" 
                  data-title="3D SPI Machine" 
                  data-description="High-precision solder paste inspection for quality assurance.">
                <img src="img/m/spi.jpg" alt="3D SPI Machine" loading="lazy">
              </div>

              <div class="carousel-slide" 
                  data-title="Automated Optical Inspection" 
                  data-description="Advanced AOI system for detecting assembly defects.">
                <img src="img/m/1.jpeg" alt="Automated Optical Inspection Machine" loading="lazy">
              </div>

              <div class="carousel-slide" 
                  data-title="Tescon ICT Machine" 
                  data-description="In-circuit testing for comprehensive PCB validation.">
                <img src="img/m/tescon.png" alt="Tescon ICT Machine" loading="lazy">
              </div>


              <div class="carousel-slide" 
                  data-title="PCB V-Cut Machine" 
                  data-description="Precision V-scoring for PCB panel separation.">
                <img src="img/m/vcut.jpeg" alt="PCB V-Cut Machine" loading="lazy">
              </div>

              <div class="carousel-slide" 
                  data-title="Laser Engraving Machine" 
                  data-description="High-precision laser marking for components and PCBs.">
                <img src="img/m/laserEngrave.png" alt="Laser Engraving Machine" loading="lazy">
              </div>

              <div class="carousel-slide" 
                  data-title="Laser Cutting Machine" 
                  data-description="Precision laser cutting for various materials.">
                <img src="img/m/cutting.png" alt="Laser Cutting Machine" loading="lazy">
              </div>

              <div class="carousel-slide" 
                  data-title="3D Printer" 
                  data-description="Rapid prototyping with advanced 3D printing technology.">
                <img src="img/m/printer.jpg" alt="3D Printer" loading="lazy">
              </div>
            </div>
            <button class="carousel-prev">&#10094;</button>
            <button class="carousel-next">&#10095;</button>
            <div class="carousel-dots">
              <span class="dot active" data-index="0"></span>
              <span class="dot" data-index="1"></span>
              <span class="dot" data-index="2"></span>
              <span class="dot" data-index="3"></span>
              <span class="dot" data-index="4"></span>
              <span class="dot" data-index="5"></span>
              <span class="dot" data-index="6"></span>
              <span class="dot" data-index="7"></span>
            </div>
          </div>
          <!-- Added info section for the carousel -->
          <div class="carousel-info">
            <h3 id="machine-title">3D SPI Machine</h3>
            <p id="machine-desc">High-precision solder paste inspection for quality assurance.</p>
          </div>
        </div>
      </div> <!-- END machine-grid -->
    </div> <!-- END container -->
  </section>

  <section class="quality-section">
    <div class="container">
      <h2 class="animate-on-scroll fade-in-up">Our Quality Assurance Process</h2>
      <div class="quality-steps">
        <div class="quality-step animate-on-scroll fade-in-left">
          <div class="step-icon">1</div>
          <h3>Incoming Inspection</h3>
          <p>All components verified against specifications before production</p>
          <img src="img/production/inspection.jpeg" alt="Incoming inspection" loading="lazy" class="step-image">
        </div>
        <div class="quality-step animate-on-scroll fade-in-up delay-1">
          <div class="step-icon">2</div>
          <h3>In-Process Checks</h3>
          <p>Automated optical inspection at critical stages. Including SPI inspection</p>
          <img src="img/m/1.jpeg" alt="Optical inspection" loading="lazy" class="step-image">
        </div>
        <div class="quality-step animate-on-scroll fade-in-right">
          <div class="step-icon">3</div>
          <h3>Final Testing</h3>
          <p>Functional testing and burn-in for reliability before packing</p>
          <img src="img/carousel/pro.jpeg" alt="Final testing" loading="lazy" class="step-image">
        </div>
      </div>
    </div>
  </section>

  <footer class="site-footer">
    <div class="container">
      <p>&copy; <span id="year"></span> iTrimech Sdn Bhd. All rights reserved. | Designed by 
        <a href="http://www.cocoastudio.my" target="_blank" rel="noopener noreferrer">Cocoa Studio</a>
      </p>
    </div>
  </footer>

  <!-- Carousel JS -->
  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    document.addEventListener("DOMContentLoaded", () => {
      const slides = document.querySelectorAll(".carousel-slide");
      const dots = document.querySelectorAll(".carousel-dots .dot");
      const prevBtn = document.querySelector(".carousel-prev");
      const nextBtn = document.querySelector(".carousel-next");
      let currentIndex = 0;
      let autoRotateInterval;
      let isTransitioning = false; // Prevent rapid clicking during transitions

      // Update CSS transition duration for manual navigation
      function updateTransitionSpeed(isManual = false) {
        const transitionDuration = isManual ? "1.2s" : "0.7s";
        slides.forEach(slide => {
          slide.style.transition = `opacity ${transitionDuration} ease-in-out`;
        });
      }

      function showSlide(index) {
        if (isTransitioning) return; // Prevent multiple transitions at once
        isTransitioning = true;
        
        // Remove active class from all slides and dots
        slides.forEach(slide => slide.classList.remove("active"));
        dots.forEach(dot => dot.classList.remove("active"));
        
        // Add active class to current slide and dot
        slides[index].classList.add("active");
        dots[index].classList.add("active");
        
        // Update info text
        const activeSlide = slides[index];
        document.getElementById("machine-title").textContent = activeSlide.dataset.title;
        document.getElementById("machine-desc").textContent = activeSlide.dataset.description;

        currentIndex = index;
        
        // Reset the transitioning flag after the transition completes
        setTimeout(() => {
          isTransitioning = false;
        }, 1200); // Match the manual transition duration
      }

      function nextSlide() {
        updateTransitionSpeed(true); // Use slower speed for manual navigation
        showSlide((currentIndex + 1) % slides.length);
        
        // Reset to auto-rotation speed after a delay
        setTimeout(() => {
          updateTransitionSpeed(false);
        }, 1200);
      }

      function prevSlide() {
        updateTransitionSpeed(true); // Use slower speed for manual navigation
        showSlide((currentIndex - 1 + slides.length) % slides.length);
        
        // Reset to auto-rotation speed after a delay
        setTimeout(() => {
          updateTransitionSpeed(false);
        }, 1200);
      }

      function startAutoRotation() {
        // Reset to auto-rotation speed
        updateTransitionSpeed(false);
        // Increased from 5000ms to 8000ms for longer display time
        autoRotateInterval = setInterval(nextSlide, 8000);
      }

      function stopAutoRotation() {
        clearInterval(autoRotateInterval);
      }

      // Event listeners
      nextBtn.addEventListener("click", () => {
        stopAutoRotation();
        nextSlide();
        startAutoRotation();
      });
      
      prevBtn.addEventListener("click", () => {
        stopAutoRotation();
        prevSlide();
        startAutoRotation();
      });

      dots.forEach(dot => {
        dot.addEventListener("click", () => {
          stopAutoRotation();
          updateTransitionSpeed(true); // Use slower speed for manual navigation
          showSlide(parseInt(dot.dataset.index));
          
          // Reset to auto-rotation speed after a delay
          setTimeout(() => {
            updateTransitionSpeed(false);
          }, 1200);
          
          startAutoRotation();
        });
      });

      // Pause auto-rotation when hovering over carousel
      const carouselContainer = document.querySelector(".carousel-container");
      if (carouselContainer) {
        carouselContainer.addEventListener("mouseenter", stopAutoRotation);
        carouselContainer.addEventListener("mouseleave", startAutoRotation);
      }

      // Start auto-rotation
      startAutoRotation();
    
      // Scroll animation functionality
      const animatedElements = document.querySelectorAll('.animate-on-scroll');
      
      // Create Intersection Observer
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            // Add the visible class with a small delay for better effect
            setTimeout(() => {
              entry.target.classList.add('is-visible');
            }, 50);
          }
        });
      }, {
        threshold: 0.15, // Trigger when 15% of element is visible
        rootMargin: '0px 0px -50px 0px' // Adjust trigger point slightly upward
      });
      
      // Observe all animated elements
      animatedElements.forEach(element => {
        observer.observe(element);
      });
    });
  </script>
</body>

</html>
